## **第一篇日记**  
  


  


### **小标题**  
  


  


测试日记

  


**代码测试**

  


import { role } from "@/lib/db/schema";

import { z } from "zod";

  


export const roleListQuerySchema = z.object({

  pageIndex: z

    .string({ required_error: "页码不能为空" })

    .regex(/^\d+$/, {

      message: "页码必须是数字"

    })

    .transform((val) => {

      if (!val) return 0; // 如果没有提供页码，默认返回第一页

      return parseInt(val, 10);

    }),

  pageSize: z

    .string({ required_error: "每页条数不能为空" })

    .regex(/^\d+$/, {

      message: "每页条数必须是数字"

    })

    .transform((val) => {

      if (!val) return 10; // 如果没有提供每页条数，默认返回10

      return parseInt(val, 10);

    }),

  id: z.string().optional(),

  name: z.string().optional(),

  status: z

    .enum(["enabled", "disabled"], { message: "状态必须为enabled或disabled" })

    .optional(),

  description: z.string().optional(),

  createdAtStart: z

    .string()

    .datetime({ message: "创建开始时间格式不对" })

    .optional()

    .transform((val) => {

      if (!val) return undefined;

      return new Date(val);

    }),

  createdAtEnd: z

    .string()

    .datetime({ message: "创建结束时间格式不对" })

    .optional()

    .transform((val) => {

      if (!val) return undefined;

      return new Date(val);

    }),

  updatedAtStart: z

    .string()

    .datetime({ message: "更新开始时间格式不对" })

    .optional()

    .transform((val) => {

      if (!val) return undefined;

      return new Date(val);

    }),

  updatedAtEnd: z

    .string()

    .datetime({ message: "更新结束时间格式不对" })

    .optional()

    .transform((val) => {

      if (!val) return undefined;

      return new Date(val);

    }),

  sorting: z

    .string()

    .optional()

    .refine(

      (val) => {

        if (!val) return true; // 如果是 undefined 或空字符串，允许通过

        const sortItems = val.split(",");

        return sortItems.every((item) => {

          const [field, direction] = item.split(":");

          // 验证字段名只能是 createdAt 或 updatedAt

          const validField = ["createdAt", "updatedAt"].includes(field);

          // 验证排序方向只能是 asc 或 desc

          const validDirection = ["asc", "desc"].includes(direction);

          return validField && validDirection;

        });

      },

      {

        message:

          "排序格式不正确，应为'字段:排序方向'格式，如'createdAt:asc,updatedAt:desc'。"

      }

    )

    .transform((val) => {

      if (!val) return []; // 如果没有排序，返回空数组

      return val.split(",").map((item) => {

        const [id, direction] = item.split(":");

        return { id, sort: direction };

      });

    })

});

  


**表格测试**

  


  
| 步骤 | 未使用LLMOps平台 | 使用LLMOps平台 | 时间差异 |  
|---|---|---|---|  
| 开发应用前&后端 | 集成和封装LLM能力，花费较多时间开发前端应用 | 直接使用LLMOps的后端服务，可基于开放API、WebApp直接开发 | -80% |  
| 提示工程 | 仅能通过API或Playground进行 | Prompt可视化编排，所见即所得完成调试 | -25% |  
| 数据准备与嵌入 | 编写代码实现长文本数据处理、嵌入 | 在LLMOps平台上传文本、文件 | -80% |  
| 应用日志与分析 | 编写代码查看日志，访问数据库查看 | 平台提供实时日志与分析 | -70% |  
| AI插件开发与集成 | 编写代码创建、集成AI插件 | 平台提供可视化工具创建、快速集成自定义插件能力 | -50% |  
| AI工作流开发 | 编写代码完成每一个工作流 | 可视化编排工作流，所见即所得调试 | -80% |  


  


**图片测试**

  


** **

  


  


**说明**

  


所有内容由apple notes提供，关闭app时自动部署到github pages。



![](../images/eac2b9c508709d04c812f42e030ca4db.png)